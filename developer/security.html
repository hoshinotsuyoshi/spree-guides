<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="lt-ie9"> <![endif]-->
<!--[if IE 9]>    <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<head>
  <title>Security - Developer Guide | Spree Commerce</title>

  <meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="section" content="advanced" />

<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<link href="/shared/css/icons.css" media="screen" rel="stylesheet" type="text/css">
<link href="/shared/css/icons-codes.css" media="screen" rel="stylesheet" type="text/css">

<!--[if IE 7]>
  <link href="/shared/css/icons-ie7.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/icons-ie7-codes.css" media="screen" rel="stylesheet" type="text/css">
<![endif]-->

<link href="/shared/css/skeleton.css" media="screen" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
<link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/assets/stylesheets/guides.css" media="screen" />

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.1.1/jquery-migrate.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min.js"></script>
<script src="/assets/javascripts/css_browser_selector_dev.js" type="text/javascript"></script>
<script src="/assets/javascripts/jquery.toc.js" type="text/javascript"></script>
<!-- <script src="/assets/javascripts/waypoints.js" type="text/javascript"></script>
<script src="/assets/javascripts/waypoints-sticky.js" type="text/javascript"></script> -->
<script src="/assets/javascripts/documentation.js" type="text/javascript"></script>

<script type="text/javascript">
$(function(){
  $.ajax({
    url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
    dataType: 'script',
    cache: true,
    success: function() { Munchkin.init('893-PDJ-826'); }
  });
});
</script>
<script type="text/javascript" src="//use.typekit.net/tcx0cap.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    

</head>
<body class="developer">
  
  <header id="header">
    <div id="top-header">
      <div class="container">

        <div class="row">

          <div class="five columns">
            <a class="logo" href="http://spreecommerce.com"><img src='/images/logo.png' /></a>
          </div>

          <nav id="main-menu" class="eleven columns">
  <ul class="inline">
    <li><a href="../">Home</a></li>
    <li><a href="../user/">User</a></li>
    <li><a href="../developer/">Developer</a></li>
    <li><a href="http://spreecommerce.com/docs/hub/" target="_blank">Hub</a></li>
    <li><a href="../api/">API</a></li>
    <li><a href="../release_notes/">Release Notes</a></li>
  </ul>
</nav>


        </div>

      </div>
    </div>

    <div id="subheader">
      <div class="container">
        <div class="twelve columns">
          <h1 class="page-title">Security - Developer Guide | Spree Commerce</h1>
        </div>
      </div>
    </div>

  </header>

  <div class="container" id="main">
    <section id="main-content">

      <div class="twelve columns">
        <div id="content">
          <h2 id="overview">Overview</h2>

<p>Proper application design, intelligent programming, and secure infrastructure are all essential in creating a secure e-commerce store using any software (Spree included.) The Spree team has done its best to provide you with the tools to create a secure and profitable web presence but it is up to you to take these tools and put them in good practice. We highly recommend reading and understanding the <a href="http://guides.rubyonrails.org/security.html">Rails Security Guide</a></p>

<h2 id="reporting-security-issues">Reporting Security Issues</h2>

<p>Please do not announce potential security vulnerabilities in public. We have a <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#101;&#099;&#117;&#114;&#105;&#116;&#121;&#064;&#115;&#112;&#114;&#101;&#101;&#099;&#111;&#109;&#109;&#101;&#114;&#099;&#101;&#046;&#099;&#111;&#109;">dedicated email address</a>. We will work quickly to determine the severity of the issue and provide a fix for the appropriate versions. We will credit you with the discovery of this patch by naming you in a blog post.</p>

<p>If you would like to provide a patch yourself for the security issue <strong>do not open a pull request for it</strong>. Instead, create a commit on your fork of Spree and run this command:</p>

<div><div class="CodeRay">
  <div class="code"><pre>$ git format-patch HEAD~1..HEAD --stdout &gt; patch.txt

</pre></div>
</div>
</div>

<p>This command will generate a file called <code>patch.txt</code> with your changes. Please email a description of the patch along with the patch itself to our <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#101;&#099;&#117;&#114;&#105;&#116;&#121;&#064;&#115;&#112;&#114;&#101;&#101;&#099;&#111;&#109;&#109;&#101;&#114;&#099;&#101;&#046;&#099;&#111;&#109;">dedicated email address</a>.</p>

<h2 id="authentication">Authentication</h2>

<p>If you install spree_auth_devise when setting up your app, we use a third party authentication library for Ruby known as <a href="https://github.com/plataformatec/devise">Devise</a>. This library provides a host of useful functionality that is in turn available to Spree, including the following features:</p>

<ul>
  <li>Authentication</li>
  <li>Strong password encryption (with the ability to specify your own algorithms)</li>
  <li>“Remember Me” cookies</li>
  <li>“Forgot my password” emails</li>
  <li>Token-based access (for REST API)</li>
</ul>

<h3 id="devise-configuration">Devise Configuration</h3>

<div class="note"><p>A default Spree install comes with the <a href="https://github.com/spree/spree_auth_devise">spree_auth_devise</a> gem, which provides authentication for Spree using Devise. This section of the guide covers the default setup. If you’re using your own authentication, please consult the manual for that authentication engine.</p>
</div>

<p>We have configured Devise to handle only what is needed to authenticate with a Spree site. The following details cover the default configurations:</p>

<ul>
  <li>Passwords are stored in the database encrypted with the salt.</li>
  <li>User authentication is done through the database query.</li>
  <li>User registration is enabled and the user’s login is available immediately (no validation emails).</li>
  <li>There is a remember me and password recovery tool built in and enabled through Devise.</li>
</ul>

<p>These configurations represent a reasonable starting point for a typical e-commerce site. Devise can be configured extensively to allow for a different feature set but that is currently beyond the scope of this document. Developers are encouraged to visit the <a href="https://github.com/plataformatec/devise/wiki">Devise wiki</a> for more details.</p>

<h3 id="rest-api">REST API</h3>

<p>The REST API behaves slightly differently than a standard user. First, an admin has to create the access key before any user can query the REST API. This includes generating the key for the admin him/herself. This is not the case if <code>Spree::Api::Config[:requires_authentication]</code> is set to <code>false</code>.</p>

<p>In cases where <code>Spree::Api::Config[:requires_authentication] is set to </code>false`, read-only requests in the API will be possible for all users. For actions that modify data within Spree, a user will need to have an API key and then their user record would need to have permission to perform those actions.</p>

<p>It is up to you to communicate that key. As an added measure, this authentication has to occur on every request made through the REST API as no session or cookies are created or stored for the REST API.</p>

<h3 id="authorization">Authorization</h3>

<p>Spree uses the excellent <a href="https://github.com/ryanb/cancan">CanCan</a> gem to provide authorization services. If you are unfamiliar with it, you should take a look at Ryan Bates’ <a href="http://railscasts.com/episodes/192-authorization-with-cancan">excellent screencast</a> on the topic (or read the <a href="http://asciicasts.com/episodes/192-authorization-with-cancan">transcribed version</a>). A detailed explanation of CanCan is beyond the scope of this guide.</p>

<h3 id="default-rules">Default Rules</h3>

<p>The follow Spree source code is taken from <code>ability.rb</code> and provides some insight into the default authorization rules:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">if</span> user.respond_to?(<span class="symbol">:has_spree_role?</span>) &amp;&amp; user.has_spree_role?(<span class="string"><span class="delimiter">'</span><span class="content">admin</span><span class="delimiter">'</span></span>)
  can <span class="symbol">:manage</span>, <span class="symbol">:all</span>
<span class="keyword">else</span>
  <span class="comment">#############################</span>
  can [<span class="symbol">:read</span>,<span class="symbol">:update</span>,<span class="symbol">:destroy</span>], <span class="constant">Spree</span>.user_class, <span class="symbol">:id</span> =&gt; user.id
  can <span class="symbol">:create</span>, <span class="constant">Spree</span>.user_class
  <span class="comment">#############################</span>
  can <span class="symbol">:read</span>, <span class="constant">Order</span> <span class="keyword">do</span> |order, token|
    order.user == user || order.token &amp;&amp; token == order.token
  <span class="keyword">end</span>
  can <span class="symbol">:update</span>, <span class="constant">Order</span> <span class="keyword">do</span> |order, token|
    order.user == user || order.token &amp;&amp; token == order.token
  <span class="keyword">end</span>
  can <span class="symbol">:create</span>, <span class="constant">Order</span>

  can <span class="symbol">:read</span>, <span class="constant">Address</span> <span class="keyword">do</span> |address|
    address.user == user
  <span class="keyword">end</span>

  <span class="comment">#############################</span>
  can <span class="symbol">:read</span>, <span class="constant">Product</span>
  can <span class="symbol">:index</span>, <span class="constant">Product</span>
  <span class="comment">#############################</span>
  can <span class="symbol">:read</span>, <span class="constant">Taxon</span>
  can <span class="symbol">:index</span>, <span class="constant">Taxon</span>
  <span class="comment">#############################</span>
<span class="keyword">end</span>

</pre></div>
</div>
</div>

<p>The above rule set has the following practical effects for Spree users</p>

<ul>
  <li>Admin role can access anything (the rest of the rules are ignored)</li>
  <li>Anyone can create a <code>User</code>, only the user associated with an account can perform read or update operations for that user.</li>
  <li>Anyone can create an <code>Order</code>, only the user associated with the order can perform read or update operations.</li>
  <li>Anyone can read product pages and look at lists of <code>Products</code> (including search operations).</li>
  <li>Anyone can read or view a list of <code>Taxons</code>.</li>
</ul>

<h3 id="enforcing-the-rules">Enforcing the Rules</h3>

<p>CanCan is only effective in enforcing authorization rules if it’s asked. In other words, if the source code does not check permissions there is no way to deny access based on those permissions. This is generally handled by adding the appropriate code to your Rails controllers. For more information please see the <a href="https://github.com/ryanb/cancan/wiki">CanCan Wiki</a>.</p>

<h3 id="custom-authorization-rules">Custom Authorization Rules</h3>

<p>We have modified the original CanCan concept to make it easier for extension developers and end users to add their own custom authorization rules. For instance, if you have an “artwork extension” that allows users to attach custom artwork to an order, you will need to add rules so that they have permissions to do so.</p>

<p>The trick to adding custom authorization rules is to add an <code>AbilityDecorator</code> to your extension and then to register these abilities. The following code is an example of how to restrict access so that only the owner of the artwork can update it or view it.</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">class</span> <span class="class">AbilityDecorator</span>
  include <span class="constant">CanCan</span>::<span class="constant">Ability</span>
  <span class="keyword">def</span> <span class="function">initialize</span>(user)
    can <span class="symbol">:read</span>, <span class="constant">Artwork</span> <span class="keyword">do</span> |artwork|
      artwork.order &amp;&amp; artwork.order.user == user
    <span class="keyword">end</span>
    can <span class="symbol">:update</span>, <span class="constant">Artwork</span> <span class="keyword">do</span> |artwork|
      artwork.order &amp;&amp; artwork.order.user == user
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="constant">Spree</span>::<span class="constant">Ability</span>.register_ability(<span class="constant">AbilityDecorator</span>)

</pre></div>
</div>
</div>

<h3 id="custom-roles-in-the-admin-namespace">Custom Roles in the Admin Namespace</h3>

<p>If you plan on allowing a custom role you create to access the Spree administrative
panels, there are a couple of considerations to keep in mind.</p>

<p>Spree authorizes all of its administrative panels with two CanCan authorization
commands: <code>:admin</code> and the name of the action being authorized. If you want a
custom role to be able to access a particular admin panel, you have to specify
that your role <em>can</em> access both :admin and the name of the action on the relevant
resource. For example, if you want your Sales Representatives to be able to access the Admin
Orders panel without giving them access to anything else in the Admin namespace,
you would have to specify the following in an <code>AbilityDecorator</code>:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">class</span> <span class="class">AbilityDecorator</span>
  include <span class="constant">CanCan</span>::<span class="constant">Ability</span>
  <span class="keyword">def</span> <span class="function">initialize</span>(user)
    <span class="keyword">if</span> user.respond_to?(<span class="symbol">:has_spree_role?</span>) &amp;&amp; user.has_spree_role?(<span class="string"><span class="delimiter">'</span><span class="content">sales_rep</span><span class="delimiter">'</span></span>)
      can [<span class="symbol">:admin</span>, <span class="symbol">:index</span>, <span class="symbol">:show</span>], <span class="constant">Spree</span>::<span class="constant">Order</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="constant">Spree</span>::<span class="constant">Ability</span>.register_ability(<span class="constant">AbilityDecorator</span>)

</pre></div>
</div>
</div>

<p>This is required by the following code in Spree’s <code>Admin::BaseController</code> which
is the controller every controller in the Admin namespace inherits from.</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">def</span> <span class="function">authorize_admin</span>
  <span class="keyword">if</span> respond_to?(<span class="symbol">:model_class</span>, <span class="predefined-constant">true</span>) &amp;&amp; model_class
    record = model_class
  <span class="keyword">else</span>
    record = <span class="constant">Object</span>
  <span class="keyword">end</span>
  authorize! <span class="symbol">:admin</span>, record
  authorize! action, record
<span class="keyword">end</span>

</pre></div>
</div>
</div>

<p>If you need to create custom controllers for your own models under the Admin
namespace, you will need to manually specify the model your controller manipulates
by defining a <code>model_class</code> method in that controller.</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">module</span> <span class="class">Spree</span>
  <span class="keyword">module</span> <span class="class">Admin</span>
    <span class="keyword">class</span> <span class="class">WidgetsController</span> &lt; <span class="constant">BaseController</span>
      <span class="keyword">def</span> <span class="function">index</span>
        <span class="comment"># Relevant code in here</span>
      <span class="keyword">end</span>

    private
      <span class="keyword">def</span> <span class="function">model_class</span>
        <span class="constant">Widget</span>
      <span class="keyword">end</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

</pre></div>
</div>
</div>

<p>This is necessary because CanCan cannot, by default, detect the model used to
authorize controllers under the Admin namespace. By specifying <code>model_class</code>, Spree
knows what to tell CanCan to use to authorize your controller.</p>

<h3 id="tokenized-permissions">Tokenized Permissions</h3>

<p>There are situations where it may be desirable to restrict access to a particular resource without requiring a user to authenticate in order to have that access. Spree allows so-called “guest checkouts” where users just supply an email address and they’re not required to create an account. In these cases you still want to restrict access to that order so only the original customer can see it. The solution is to use a “tokenized” URL.</p>

<p>http://example.com/orders?token=aidik313dsfs49d</p>

<p>Spree provides a <code>TokenizedPermission</code> model used to grant access to various resources through a secure token. This model works in conjunction with the <code>Spree::TokenResource</code> module which can be used to add tokenized access functionality to any Spree resource.</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="keyword">module</span> <span class="class">Spree</span>
  <span class="keyword">module</span> <span class="class">Core</span>
    <span class="keyword">module</span> <span class="class">TokenResource</span>
      <span class="keyword">module</span> <span class="class">ClassMethods</span>
        <span class="keyword">def</span> <span class="function">token_resource</span>
          has_one <span class="symbol">:tokenized_permission</span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:permissable</span>
          delegate <span class="symbol">:token</span>, <span class="symbol">:to</span> =&gt; <span class="symbol">:tokenized_permission</span>, <span class="symbol">:allow_nil</span> =&gt; <span class="predefined-constant">true</span>
          after_create <span class="symbol">:create_token</span>
        <span class="keyword">end</span>
      <span class="keyword">end</span>

      <span class="keyword">def</span> <span class="function">create_token</span>
        permission = build_tokenized_permission
        permission.token = token = ::<span class="constant">SecureRandom</span>::hex(<span class="integer">8</span>)
        permission.save!
        token
      <span class="keyword">end</span>

      <span class="keyword">def</span> <span class="predefined-constant">self</span>.<span class="function">included</span>(receiver)
        receiver.extend <span class="constant">ClassMethods</span>
      <span class="keyword">end</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="constant">ActiveRecord</span>::<span class="constant">Base</span>.class_eval { include <span class="constant">Spree</span>::<span class="constant">Core</span>::<span class="constant">TokenResource</span> }

</pre></div>
</div>
</div>

<p>The <code>Order</code> model is one such model in Spree where this interface is already in use. The following code snippet shows how to add this functionality through the use of the <code>token_resource</code> declaration:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="constant">Spree</span>::<span class="constant">Order</span>.class_eval <span class="keyword">do</span>
  token_resource
<span class="keyword">end</span>

</pre></div>
</div>
</div>

<p>If we examine the default CanCan permissions for <code>Order</code> we can see how tokens can be used to grant access in cases where the user is not authenticated.</p>

<div><div class="CodeRay">
  <div class="code"><pre>can <span class="symbol">:read</span>, <span class="constant">Spree</span>::<span class="constant">Order</span> <span class="keyword">do</span> |order, token|
  order.user == user || order.token &amp;&amp; token == order.token
<span class="keyword">end</span>

can <span class="symbol">:update</span>, <span class="constant">Spree</span>::<span class="constant">Order</span> <span class="keyword">do</span> |order, token|
  order.user == user || order.token &amp;&amp; token == order.token
<span class="keyword">end</span>

can <span class="symbol">:create</span>, <span class="constant">Spree</span>::<span class="constant">Order</span>

</pre></div>
</div>
</div>

<p>This configuration states that in order to read or update an order, you must be either authenticated as the correct user, or supply the correct authorizing token.</p>

<p>The final step is to ensure that the token is passed to CanCan when the authorization is performed, which is done in the controller.</p>

<div><div class="CodeRay">
  <div class="code"><pre>authorize! action, resource, session[<span class="symbol">:access_token</span>]

</pre></div>
</div>
</div>

<p>Of course this also assumes that the token has been stored in the session. Generally this can be achieved with a route that maps the token to the correct parameter:</p>

<div><div class="CodeRay">
  <div class="code"><pre>get <span class="string"><span class="delimiter">'</span><span class="content">/orders/:id/token/:token</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">orders#show</span><span class="delimiter">'</span></span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:token_order</span>

</pre></div>
</div>
</div>

<p>This is followed by a call to store the token in the session for possible future access.</p>

<div><div class="CodeRay">
  <div class="code"><pre>  session[<span class="symbol">:access_token</span>] ||= params[<span class="symbol">:token</span>]

</pre></div>
</div>
</div>

<h2 id="credit-card-data">Credit Card Data</h2>

<h3 id="pci-compliance">PCI Compliance</h3>

<p>All store owners wishing to process credit card transactions should be familiar with <a href="http://en.wikipedia.org/wiki/Pci_compliance">PCI Compliance</a>. Spree makes
absolutely no warranty regarding PCI compliance (or anything else for that matter - see the <a href="http://spreecommerce.com/license">LICENSE</a> for details.) We do, however, follow common sense security practices in handling credit card data.</p>

<h3 id="transmit-exactly-once">Transmit Exactly Once</h3>

<p>Spree uses extreme caution in its handling of credit cards. In production mode, credit card data is transmitted to Spree via SSL. The data is immediately relayed to your chosen payment gateway and then discarded. The credit card data is never stored in the database (not even temporarily) and it exists in memory on the server for only a fraction of a second before it is discarded.</p>

<p>Spree does store the last four digits of the credit card and the expiration month and date.  You could easily customize Spree further if you wanted and opt out of storing even that little bit of information.</p>

<h3 id="payment-profiles">Payment Profiles</h3>

<p>Spree also supports the use of “payment profiles.” This means that you can “store” a customer’s credit card information in your database securely. More precisely you store a “token” that allows you to use the credit card again. The credit card gateway is actually the place where the credit card is stored. Spree ends up storing a token that can be used to authorize new charges on that same card without having to store sensitive credit card details.</p>

<p>Spree has out of the box support for <a href="http://www.authorize.net/solutions/merchantsolutions/merchantservices/cim/">Authorize.net CIM</a> payment profiles.</p>

<h3 id="other-options">Other Options</h3>

<p>There are also third-party extensions for Paypal’s <a href="https://merchant.paypal.com/cgi-bin/marketingweb?cmd=_render-content&amp;content_ID=merchant/express_checkout">Express Checkout</a> (formerly called Paypal Express.) These types of checkout services handle processing of the credit card information offsite (the data never touches your server) and greatly simplify the requirements for PCI compliance.</p>

<p><a href="https://braintreepayments.com">Braintree</a> also offers a very interesting gateway option that achieves a similar benefit to Express Checkout but allows the entire process to appear to be taking place on the site. In other words, the customer never appears to leave the store during the checkout. They describe this as a “transparent redirect.” The Braintree team is very interested in helping other Ruby developers use their gateway and have provided support to Spree developers in the past who were interested in using their product.</p>

<h2 id="security-alerts">Security Alerts</h2>

<p>Spree will periodically check for important security and release announcements. You will see them on the administration console pages. Alerts may be dismissed after you have read them. The automatic checking can be disabled under “Configuration” =&gt; “General Settings”, or by setting the <code>Spree::Config[:check_for_alerts]</code> setting to <code>false</code>. Some configuration information is included when checking so the alerts can be customized to your specific installation. Here is an example of the configuration information included in the alert request:</p>

<div><div class="CodeRay">
  <div class="code"><pre>{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Spree Demo Site</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">rails_version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">3.1.1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0.70.1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">rails_env</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">production</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">www.spreecommerce.com</span><span class="delimiter">&quot;</span></span>
}

</pre></div>
</div>
</div>

        </div>
      </div>

    </section>

    <aside id="sidebar" class="four columns">
  <nav id="sidebar-menu">
    <ul>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-tutorial-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/getting_started_tutorial.html'>Tutorials</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/getting_started_tutorial.html'>Getting Started</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/extensions_tutorial.html'>Extensions</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/deface_overrides_tutorial.html'>Deface Overrides</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-source-code-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/about.html'>Source Code</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/about.html'>About</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/navigating.html'>Navigating</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/getting_help.html'>Getting Help</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/contributing.html'>Contributing</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-core-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/addresses.html'>The Core</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/addresses.html'>Addresses</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/adjustments.html'>Adjustments</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/calculators.html'>Calculators</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/inventory.html'>Inventory</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/payments.html'>Payments</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/preferences.html'>Preferences</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/products.html'>Products</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/promotions.html'>Promotions</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/orders.html'>Orders</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/shipments.html'>Shipments</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/taxation.html'>Taxation</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-customization-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/authentication.html'>Customization</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/authentication.html'>Authentication</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/i18n.html'>Internationalization (i18n)</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/view.html'>View</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/asset.html'>Asset</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/logic.html'>Logic</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/s3_storage.html'>Use S3</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/checkout.html'>Checkout</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-deployment-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/deployment-service.html'>Deployment</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/ninefold.html'>Ninefold</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/heroku.html'>Heroku</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/ansible-ubuntu.html'>Ansible Ubuntu Deployment</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/manual-ubuntu.html'>Manual Ubuntu Deployment</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/deployment_options.html'>Deployment Options</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/deployment-service.html'>Deployment Service</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/deployment_tips.html'>Deployment Tips</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/requesting_and_configuring_ssl.html'>Requesting/Configuring SSL</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-advanced-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/seo.html'>Advanced Topics</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/seo.html'>Search Engine Optimization</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/developer_tips.html'>Developer Tips</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/migration.html'>Migrating to Spree</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/security.html'>Security</a> <div class="toc"></div> </li>
          <li><i class="icon-dot"></i><a href='/developer/testing.html'>Testing Spree Applications</a> <div class="toc"></div> </li>
        </ul>
      </li>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-advanced-menu"><i class="icon-right-open"></i></a>
          <a href='/developer/upgrades/index.html'>Upgrade Guides</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='/developer/upgrades/point-sixty-to-point-seventy.html'>0.60.x to 0.70.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/point-seventy-to-one-dot-oh.html'>0.70.x to 1.0.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/one-dot-oh-to-one-dot-one.html'>1.0.x to 1.1.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/one-dot-one-to-one-dot-two.html'>1.1.x to 1.2.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/one-dot-two-to-one-dot-three.html'>1.2.x to 1.3.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/one-dot-three-to-two-dot-oh.html'>1.3.x to 2.0.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/two-dot-oh-to-two-dot-one.html'>2.0.x to 2.1.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/two-dot-one-to-two-dot-two.html'>2.1.x to 2.2.x</a> <div
          class="toc"></div></li>
          <li><i class="icon-dot"></i><a href='/developer/upgrades/two-dot-two-to-two-dot-three.html'>2.2.x to 2.3.x</a> <div 
          class="toc"></div></li>
        </ul>
      </li>
    </ul>
  </nav>
</aside>

  </div>

  <footer id="main-footer">

  <div class="footer-top">
    <div class="container">
      <div id="link-blocks" class="row">

        <div class="link-block three columns">
          <h3 class="block-title">Product</h3>
          <ul>
            <li><a href='http://spreecommerce.com/storefront'>Platform</a></li>
            <li><a href='http://spreecommerce.com/hub/'>Hub</a></li>
            <li><a href='http://spreecommerce.com/training_and_support'>Support</a></li>
            <li><a href='http://spreecommerce.com/privacy_policy'>Privacy Policy</a></li>
            <li><a href='http://spreecommerce.com/terms_of_service'>Terms of Service</a></li>
          </ul>
        </div>

        <div class="link-block three columns">
          <h3 class="block-title">Developers</h3>
          <ul>
            <li><a href="http://spreecommerce.com/storefront">Overview</a></li>
            <li><a href="http://guides.spreecommerce.com/developer">Documenation</a></li>
            <li><a href="http://spreecommerce.com/storefront">Community</a></li>
            <li><a href="http://spreecommerce.com/license">License</a></li>
          </ul>
        </div>
        <div class="link-block three columns">
          <h3 class="block-title">Partners</h3>
          <ul>
            <li><a href="http://spreecommerce.com/solution_partners">Pro Services</a></li>
            <li><a href="http://spreecommerce.com/training_and_support">Training</a></li>
            <li><a href="http://spreecommerce.com/become_a_partner">Partnership Program</a></li>
            <li><a href="http://spreecommerce.com/partners/payments">Payments</a></li>
          </ul>
        </div>

        <div class="link-block four columns">
          <h3 class="block-title">About Spree Commerce</h3>
          <p>
            Spree Commerce is an automated enterprise solution built specifically for ecommerce. We effectively manage your operations so you can focus on serving your customers and growing your business.
          </p>
        </div>

        <div class="link-block three columns">
          <h3 class="block-title">Take it for a test drive</h3>
          <p>
            You can even create your own personal store.
          </p>
          <a href="http://spreecommerce.com/demo" target="_blank" class="button"><i class="icon-right"></i> Try The Demo</a>
        </div>

      </div>
    </div>
  </div>


  <div class="footer-bottom">
    <div class="container">
      <div class="row">

        <div class="copyright ten columns">
          <p>
            Spree, Spree Commerce and “Behind the Best Storefronts” are all trademarks of Spree Commerce Inc.
          </p>
        </div>

        <div class="social-icons six columns">
          <ul class="inline">
            <li><a href="https://github.com/spree/spree" target="_blank"><i class="icon-github-circled"></i></a></li>
            <li><a href="https://twitter.com/spreecommerce" target="_blank"><i class="icon-twitter-circled"></i></a></li>
            <li><a href="https://www.facebook.com/spreecommerce" target="_blank"><i class="icon-facebook-circled"></i></a></li>
            <li><a href="https://plus.google.com/110792218022940311363" target="_blank"><i class="icon-gplus-circled"></i></a></li>
          </ul>
        </div>

      </div>
    </div>
  </div>
</footer>
<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3914566-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>
