<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="lt-ie9"> <![endif]-->
<!--[if IE 9]>    <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<head>
  <title>Spree 1.2.2 - Release Notes | Spree Commerce</title>

  <meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="section" content="version" />

<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<link href="/shared/css/icons.css" media="screen" rel="stylesheet" type="text/css">
<link href="/shared/css/icons-codes.css" media="screen" rel="stylesheet" type="text/css">

<!--[if IE 7]>
  <link href="/shared/css/icons-ie7.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/icons-ie7-codes.css" media="screen" rel="stylesheet" type="text/css">
<![endif]-->

<link href="/shared/css/skeleton.css" media="screen" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
<link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/assets/stylesheets/guides.css" media="screen" />

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.1.1/jquery-migrate.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min.js"></script>
<script src="/assets/javascripts/css_browser_selector_dev.js" type="text/javascript"></script>
<script src="/assets/javascripts/jquery.toc.js" type="text/javascript"></script>
<!-- <script src="/assets/javascripts/waypoints.js" type="text/javascript"></script>
<script src="/assets/javascripts/waypoints-sticky.js" type="text/javascript"></script> -->
<script src="/assets/javascripts/documentation.js" type="text/javascript"></script>

<script type="text/javascript">
$(function(){
  $.ajax({
    url: document.location.protocol + '//munchkin.marketo.net/munchkin.js',
    dataType: 'script',
    cache: true,
    success: function() { Munchkin.init('893-PDJ-826'); }
  });
});
</script>
<script type="text/javascript" src="//use.typekit.net/tcx0cap.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    

</head>
<body class="integration">
  
  <header id="header">
    <div id="top-header">
      <div class="container">

        <div class="row">

          <div class="five columns">
            <a class="logo" href="http://spreecommerce.com"><img src='../images/logo.png' /></a>
          </div>

          <nav id="main-menu" class="eleven columns">
  <ul class="inline">
    <li><a href="../">Home</a></li>
    <li><a href="../user/">User</a></li>
    <li><a href="../developer/">Developer</a></li>
    <li><a href="http://spreecommerce.com/docs/hub/" target="_blank">Hub</a></li>
    <li><a href="../api/">API</a></li>
    <li><a href="../release_notes/">Release Notes</a></li>
  </ul>
</nav>


        </div>

      </div>
    </div>

    <div id="subheader">
      <div class="container">
        <div class="twelve columns">
          <h1 class="page-title">Spree 1.2.2 - Release Notes</h1>
        </div>
      </div>
    </div>

  </header>

  <div class="container">
    <section id="main-content">

      <div class="twelve columns">
        <div id="content">
          <p>Spree 1.2.2 is the latest Spree release in the 1.2.x branch. This
release contains minor improvements and bug fixes. Compatibility with
extensions is mostly guaranteed, however there may be edge cases. If you
find one of these, please <a href="https://github.com/spree/spree/blob/master/CONTRIBUTING.md">file an
issue</a>.</p>

<h2 id="major-changes">Major changes</h2>

<h3 id="migrations">Migrations</h3>

<p>This new version of Spree contains new migrations. Please install them
and run them with this command:</p>

<div><div class="CodeRay">
  <div class="code"><pre>bundle <span class="function">exec</span> rake railties<span class="reserved">:</span>install<span class="reserved">:</span>migrations
bundle <span class="function">exec</span> rake db<span class="reserved">:</span>migrate

</pre></div>
</div>
</div>

<h3 id="api-changes">API changes</h3>

<p>We have changed some aspects of the API component in Spree. For a
detailed list of these changes, please refer to the <a href="http://api.spreecommerce.com/changes/">Changes page on our
API site</a></p>

<h2 id="other-changes">Other changes</h2>

<ul>
  <li>Switched from using the <code>acts_as_nested_set</code> gem to using
<code>awesome_nested_set_gem</code>, which is an optimized version of the
same gem. <a href="https://github.com/spree/spree/issues/1927">#1927</a></li>
  <li>Renamed InventoryUnit.backorder to InventoryUnit.backordered
<a href="https://github.com/spree/spree/commit/6cc3da52daa3ef57423c0ddbeb4211980ea3103d">commit</a></li>
  <li>Fix issue with installer when running on <code>i386-mingw32</code> platform
PCs. <a href="https://github.com/spree/spree/issues/1903">#1903</a></li>
  <li>All adjustments, not just optional ones, are locked on an order
completion.
<a href="https://github.com/spree/spree/commit/1a9b25c0a4232f02f25ab0d7bc80250e045bf8fa">commit</a></li>
  <li>Fix issue where currently selected currency wasn’t displayed
correctly on the “General Settings” page.
<a href="https://github.com/spree/spree/commit/a46455afd8e4691aaf789b4639da8967277f1916">commit</a></li>
  <li>Added <code>:currency_symbol_position</code> configuration option, to
configure if currency symbol goes before or after amount.
<a href="https://github.com/spree/spree/commit/575af696f39f9ea408fc9f4082bccff4e7fa4e05">commit</a>
<a href="https://github.com/spree/spree/issues/1911">#1911</a></li>
  <li>Allow for calling <code>save_permalink</code> manually to recalculate a
permalink. <a href="https://github.com/spree/spree/issues/1920">#1920</a></li>
  <li>Disable double-clicking delete links on line items.
<a href="https://github.com/spree/spree/issues/1934">#1934</a></li>
  <li>Add <code>per_page</code> parameter for API orders.
<a href="https://github.com/spree/spree/issues/1949">#1949</a></li>
  <li>Fixed payment banner not being dismissed when asked.
<a href="https://github.com/spree/spree/issues/1952">#1952</a></li>
  <li>Prevent double-submit on checkout confirm step.
<a href="https://github.com/spree/spree/commit/84f91aa875d41fa1e77646c9cc25b321dab050cc">commit</a></li>
  <li>Allow an order with no shipments to be canceled.
<a href="https://github.com/spree/spree/issues/1989">#1989</a></li>
  <li>Added <code>Product#available?</code>
<a href="https://github.com/spree/spree/issues/2002">#2002</a></li>
  <li>Allow case-insensitive coupon codes
<a href="https://github.com/spree/spree/issues/2009">#2009</a> and
<a href="https://github.com/spree/spree/issues/2012">#2012</a></li>
  <li>Fix problem with currencies whose sub-units are not in hundreds.
<a href="https://github.com/spree/spree/issues/2030">#2030</a></li>
  <li>Payments are no longer processed if <code>Order#payment_required?</code>
returns false. <a href="https://github.com/spree/spree/issues/2028">#2028</a></li>
  <li>Expired promotions are now excluded from
<code>Product#possible_promotions</code>
<a href="https://github.com/spree/spree/issues/2058">#2058</a></li>
  <li>Load <code>Spree::AuthenticationHelpers</code> during a <code>to_prepare</code> hook
<a href="https://github.com/spree/spree/issues/2076">#2076</a></li>
  <li>Updating a line item’s quantity and then clicking the checkout
button will now persist the update.
<a href="https://github.com/spree/spree/issues/2086">#2086</a></li>
  <li><code>with_option_value</code> and <code>taxons_name_eq</code> scopes on <code>Product</code>
will now return <code>Product</code> objects, rather than IDs.
<a href="https://github.com/spree/spree/issues/2082">#2082</a></li>
  <li>Searcher class instances in <code>HomeController</code>, <code>ProductsController</code>
and <code>TaxonsController</code> will now have access to the current user
object. <a href="https://github.com/spree/spree/issues/2089">#2089</a></li>
  <li><code>spree_products.count_on_hand</code> and
<code>spree_variants.count_on_hand</code> columns can now be set to <code>NULL</code>
to indicate an infinite supply.
<a href="https://github.com/spree/spree/issues/2096">#2096</a></li>
  <li>Orders are marked “returned” if all return authorizations are
received <a href="https://github.com/spree/spree/issues/1714">#1714</a>
<a href="https://github.com/spree/spree/issues/2099">#2099</a></li>
  <li>Unique products are returned from <code>Product.in_taxon</code> scope
<a href="https://github.com/spree/spree/issues/1917">#1917</a>
<a href="https://github.com/spree/spree/issues/1974">#1974</a>
<a href="https://github.com/spree/spree/issues/1962">#1962</a></li>
  <li><code>Product.on_hand</code> scope no longer sums deleted variants.
<a href="https://github.com/spree/spree/issues/2112">#2112</a></li>
  <li><code>Payment#capture</code> now does nothing for payments marked as
“completed” <a href="https://github.com/spree/spree/issues/2119">#2119</a></li>
  <li>I18nify “Order Adjustments” text
<a href="https://github.com/spree/spree/issues/2123">#2123</a></li>
  <li>EXIF data is now stripped from JPEGs
<a href="https://github.com/spree/spree/issues/2142">#2142</a>
<a href="https://github.com/spree/spree/issues/2145">#2145</a></li>
  <li>Only eligible promotions are now included in <code>promo_total</code> on
<code>Order</code> objects.
<a href="https://github.com/spree/spree/commit/74a7914903b9d7dac77e0cbd38b1919fb3396254">commit</a></li>
  <li>Promotion usage count is now visible on a promotion’s edit page.
<a href="https://github.com/spree/spree/issues/2193">#2193</a></li>
  <li>The user picker for the promotions backend is now functional again,
after being broken accidentally in the previous release.
<a href="https://github.com/spree/spree/issues/1890">#1890</a></li>
</ul>

        </div>
      </div>

    </section>

    <aside id="sidebar" class="four columns">
  <nav id="sidebar-menu">
    <ul>
      <li class='js-topic'>
        <h3>
          <a href="#" class="js-expand-btn collapsed toggle-version-menu"><i class="icon-right-open"></i></a>
          <a href='#.html'>Versions</a>
        </h3>
        <ul class="js-guides">
          <li><i class="icon-dot"></i><a href='spree_2_3_0.html'>2.3.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_2_2_0.html'>2.2.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_2_1_0.html'>2.1.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_2_0_0.html'>2.0.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_3_0.html'>1.3.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_2_2.html'>1.2.2</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_2_0.html'>1.2.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_1_4.html'>1.1.4</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_1_0.html'>1.1.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_1_0_0.html'>1.0.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_70_0.html'>0.70.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_60_0.html'>0.60.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_50_0.html'>0.50.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_40_0.html'>0.40.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_30_0.html'>0.30.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_10_0.html'>0.10.0</a></li>
          <li><i class="icon-dot"></i><a href='spree_0_9_0.html'>0.9.0</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</aside>

  </div>

  <footer id="main-footer">

  <div class="footer-top">
    <div class="container">
      <div id="link-blocks" class="row">

        <div class="link-block three columns">
          <h3 class="block-title">Product</h3>
          <ul>
            <li><a href='http://spreecommerce.com/storefront'>Platform</a></li>
            <li><a href='http://spreecommerce.com/hub/'>Hub</a></li>
            <li><a href='http://spreecommerce.com/training_and_support'>Support</a></li>
            <li><a href='http://spreecommerce.com/privacy_policy'>Privacy Policy</a></li>
            <li><a href='http://spreecommerce.com/terms_of_service'>Terms of Service</a></li>
          </ul>
        </div>

        <div class="link-block three columns">
          <h3 class="block-title">Developers</h3>
          <ul>
            <li><a href="http://spreecommerce.com/storefront">Overview</a></li>
            <li><a href="http://guides.spreecommerce.com/developer">Documenation</a></li>
            <li><a href="http://spreecommerce.com/storefront">Community</a></li>
            <li><a href="http://spreecommerce.com/license">License</a></li>
          </ul>
        </div>
        <div class="link-block three columns">
          <h3 class="block-title">Partners</h3>
          <ul>
            <li><a href="http://spreecommerce.com/solution_partners">Pro Services</a></li>
            <li><a href="http://spreecommerce.com/training_and_support">Training</a></li>
            <li><a href="http://spreecommerce.com/become_a_partner">Partnership Program</a></li>
            <li><a href="http://spreecommerce.com/partners/payments">Payments</a></li>
          </ul>
        </div>

        <div class="link-block four columns">
          <h3 class="block-title">About Spree Commerce</h3>
          <p>
            Spree Commerce is an automated enterprise solution built specifically for ecommerce. We effectively manage your operations so you can focus on serving your customers and growing your business.
          </p>
        </div>

        <div class="link-block three columns">
          <h3 class="block-title">Take it for a test drive</h3>
          <p>
            You can even create your own personal store.
          </p>
          <a href="http://spreecommerce.com/demo" target="_blank" class="button"><i class="icon-right"></i> Try The Demo</a>
        </div>

      </div>
    </div>
  </div>


  <div class="footer-bottom">
    <div class="container">
      <div class="row">

        <div class="copyright ten columns">
          <p>
            Spree, Spree Commerce and “Behind the Best Storefronts” are all trademarks of Spree Commerce Inc.
          </p>
        </div>

        <div class="social-icons six columns">
          <ul class="inline">
            <li><a href="https://github.com/spree/spree" target="_blank"><i class="icon-github-circled"></i></a></li>
            <li><a href="https://twitter.com/spreecommerce" target="_blank"><i class="icon-twitter-circled"></i></a></li>
            <li><a href="https://www.facebook.com/spreecommerce" target="_blank"><i class="icon-facebook-circled"></i></a></li>
            <li><a href="https://plus.google.com/110792218022940311363" target="_blank"><i class="icon-gplus-circled"></i></a></li>
          </ul>
        </div>

      </div>
    </div>
  </div>
</footer>
<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3914566-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>
